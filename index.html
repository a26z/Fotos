<!doctype html>
<html lang="de">

<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<title>Fotos</title>
</head>

<body>
	<main>
		<article class="container"></article>
		<article class="modal">
			<section class="content">
				<span class="close">&times;</span>
				<img id="modalimage" alt="Modal Image">
			</section>
		</article>
	</main>
	<!-- ============== Javascript ============== -->
	<script type="module">
		import { images } from './js/images.js';
		images.forEach(pic => {
			let figure = document.createElement("FIGURE");
			let caption = document.createElement("FIGCAPTION");
			figure.setAttribute("id", pic.alt);
			document.querySelector(".container").appendChild(figure);
			let image = new Image();
			image.src = pic.path;
			image.setAttribute("class", "vorschau trigger");
			image.setAttribute("alt", pic.alt);
			document.getElementById(pic.alt).appendChild(image);
			document.getElementById(pic.alt).appendChild(caption);
			let captionText = document.createTextNode(pic.caption);
			caption.appendChild(captionText);
		});

		// modal
		const modal = document.querySelector(".modal");
		const close = document.querySelector(".close");

		function toggleModal() {
			let image = document.getElementById("modalimage");
			image.src = this.src;
			document.querySelector(".content").appendChild(image);
			modal.classList.toggle("show-modal");
		}

		document.querySelectorAll(".trigger").forEach(pic => {
			pic.addEventListener("click", toggleModal)
		})

		close.addEventListener("click", function() {
			modal.classList.toggle("show-modal")
		});

		window.addEventListener("click", function(e) {
			if(e.target === modal) modal.classList.toggle("show-modal")
		})
	</script>
</body>

</html>
